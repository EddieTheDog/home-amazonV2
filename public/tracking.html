<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Home Amazon - Tracking</title>
</head>
<body>
<h1>Track Your Package</h1>

<form id="trackForm">
  <label>Barcode: <input type="text" id="barcode" required></label>
  <button type="submit">Track</button>
</form>

<pre id="result"></pre>

<script>
const form = document.getElementById('trackForm');
const result = document.getElementById('result');

// Auto-fill from query string
const params = new URLSearchParams(window.location.search);
const barcodeInput = document.getElementById('barcode');
if (params.has('barcode')) barcodeInput.value = params.get('barcode');

form.addEventListener('submit', async (e) => {
  e.preventDefault();
  const barcode = barcodeInput.value;
  const res = await fetch('/api/package/' + barcode);
  const json = await res.json();
  result.textContent = JSON.stringify(json, null, 2);
});
</script>
</body>
</html>
